(this["webpackJsonpattica-admin"]=this["webpackJsonpattica-admin"]||[]).push([[42],{1231:function(e,t,a){"use strict";a.r(t);a(0);var r=a(22),n=a(35),s=a(170),i=a(790),c=a(152),o=a(203),d=a(814),l=a(815),u=a(1);t.default=()=>{const{onSubmit:e,register:t,handleSubmit:a,errors:m,loading:h}=Object(i.a)();return Object(u.jsx)("div",{className:"flex items-center min-h-screen p-6 bg-gray-50 dark:bg-gray-900",children:Object(u.jsx)("div",{className:"flex-1 h-full max-w-4xl mx-auto overflow-hidden bg-white rounded-lg shadow-xl dark:bg-gray-800",children:Object(u.jsxs)("div",{className:"flex flex-col overflow-y-auto md:flex-row",children:[Object(u.jsxs)("div",{className:"h-32 md:h-auto md:w-1/2",children:[Object(u.jsx)("img",{"aria-hidden":"true",className:"object-cover w-full h-full dark:hidden",src:d.a,alt:"Office"}),Object(u.jsx)("img",{"aria-hidden":"true",className:"hidden object-cover w-full h-full dark:block",src:l.a,alt:"Office"})]}),Object(u.jsx)("main",{className:"flex items-center justify-center p-6 sm:p-12 md:w-1/2",children:Object(u.jsxs)("div",{className:"w-full",children:[Object(u.jsx)("h1",{className:"mb-4 text-xl font-semibold text-gray-700 dark:text-gray-200",children:"Forgot password"}),Object(u.jsxs)("form",{onSubmit:a(e),children:[Object(u.jsx)(c.a,{label:"Email"}),Object(u.jsx)(o.a,{style:{backgroundColor:"white",border:"1px solid #ccc",padding:"5px"},register:t,label:"Email",name:"verifyEmail",type:"email",placeholder:"john@doe.com"}),Object(u.jsx)(s.a,{errorName:m.verifyEmail}),Object(u.jsx)(n.Button,{id:"styleButton",disabled:h,type:"submit",block:!0,className:"mt-4 h-12",children:"Recover password"}),Object(u.jsx)("hr",{className:"my-10"})]}),Object(u.jsx)("p",{className:"mt-4 mr-6",children:Object(u.jsx)(r.b,{id:"styleLink",className:"text-sm font-medium ",to:"/login",children:"Already have an account? Login"})})]})})]})})})}},152:function(e,t,a){"use strict";a(0);var r=a(35),n=a(1);t.a=e=>{let{label:t}=e;return Object(n.jsx)(r.Label,{className:"col-span-4 sm:col-span-2 font-medium text-sm",children:t})}},170:function(e,t,a){"use strict";a(0);var r=a(1);t.a=e=>{let{errorName:t}=e;return Object(r.jsx)(r.Fragment,{children:t&&Object(r.jsx)("span",{className:"text-red-400 text-sm mt-2",children:t.message})})}},203:function(e,t,a){"use strict";a(0);var r=a(35),n=a(1);t.a=e=>{let{register:t,defaultValue:a,required:s,name:i,label:c,type:o,placeholder:d}=e;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(r.Input,{...t(`${i}`,{required:!s&&`${c} is required!`}),defaultValue:a,type:o,placeholder:d,name:i,className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white"})})}},212:function(e,t,a){"use strict";var r=a(94);const n={registerAdmin:async e=>r.a.post("/admin/register",e),loginAdmin:async e=>{try{const t=await r.a.post("/admin/login",e);return t.data&&t.data.redirectToDashboard&&t.data.redirectURL?{...t,redirectToDashboard:t.data.redirectToDashboard,redirectURL:t.data.redirectURL}:{...t,redirectToDashboard:!1,redirectURL:"/"}}catch(t){throw t}},forgetPassword:async e=>r.a.put("/admin/forget-password",e),resetPassword:async e=>r.a.put("/admin/reset-password",e),signUpWithProvider:async e=>r.a.post("/admin/signup",e),addStaff:async e=>r.a.post("/admin/add",e),getAllStaff:async e=>r.a.get("/admin",e),getStaffById:async(e,t)=>r.a.post(`/admin/${e}`,t),updateStaff:async(e,t)=>r.a.put(`/admin/${e}`,t),updateStaffStatus:async(e,t)=>r.a.put(`/admin/update-status/${e}`,t),deleteStaff:async e=>r.a.delete(`/admin/${e}`)};t.a=n},790:function(e,t,a){"use strict";var r=a(15),n=a.n(r),s=a(0),i=a(209),c=a(3),o=a(25),d=a(212),l=a(37);t.a=()=>{const[e,t]=Object(s.useState)(!1),{dispatch:a}=Object(s.useContext)(o.a),r=Object(c.g)(),u=Object(c.h)(),{register:m,handleSubmit:h,formState:{errors:f}}=Object(i.a)();return{onSubmit:e=>{let{name:s,email:i,verifyEmail:c,password:o,role:m}=e;t(!0);"/login"===u.pathname?d.a.loginAdmin({email:i,password:o}).then((e=>{e&&(t(!1),Object(l.c)("Login Success!"),a({type:"USER_LOGIN",payload:e}),n.a.set("adminInfo",JSON.stringify(e),{expires:.5}),e.redirectToDashboard?r.push(e.redirectURL||"/dashboard"):r.push("/"))})).catch((e=>{Object(l.b)(e?e.response.data.message:e.message),t(!1)})):"/signup"===u.pathname?d.a.registerAdmin({name:s,email:i,password:o,role:m}).then((e=>{e&&(t(!1),Object(l.c)("Register Success!"),a({type:"USER_LOGIN",payload:e}),n.a.set("adminInfo",JSON.stringify(e),{expires:.5}),r.push("/"))})).catch((e=>{Object(l.b)(e?e.response.data.message:e.message),t(!1)})):"/forgot-password"===u.pathname&&d.a.forgetPassword({verifyEmail:c}).then((e=>{t(!1),Object(l.c)(e.message)})).catch((e=>{t(!1),Object(l.b)(e?e.response.data.message:e.message)}))},register:m,handleSubmit:h,errors:f,loading:e}}},814:function(e,t,a){"use strict";t.a=a.p+"static/media/forgot-password-office.d1630a33.jpeg"},815:function(e,t,a){"use strict";t.a=a.p+"static/media/forgot-password-office-dark.d1630a33.jpeg"},94:function(e,t,a){"use strict";var r=a(131),n=a.n(r),s=a(15),i=a.n(s);const c=n.a.create({baseURL:"https://attica.onrender.com/api/",timeout:5e4,headers:{Accept:"application/json","Content-Type":"application/json"}});c.interceptors.request.use((function(e){let t,a;return i.a.get("adminInfo")&&(t=JSON.parse(i.a.get("adminInfo"))),i.a.get("company")&&(a=i.a.get("company")),{...e,headers:{authorization:t?`Bearer ${t.token}`:null,company:a||null}}}));const o=e=>e.data,d={get:(e,t,a)=>c.get(e,t,a).then(o),post:(e,t)=>c.post(e,t).then(o),put:(e,t,a)=>c.put(e,t,a).then(o),patch:(e,t)=>c.patch(e,t).then(o),delete:(e,t)=>c.delete(e,t).then(o)};t.a=d},98:function(e,t){var a,r,n=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function c(e){if(a===setTimeout)return setTimeout(e,0);if((a===s||!a)&&setTimeout)return a=setTimeout,setTimeout(e,0);try{return a(e,0)}catch(t){try{return a.call(null,e,0)}catch(t){return a.call(this,e,0)}}}!function(){try{a="function"===typeof setTimeout?setTimeout:s}catch(e){a=s}try{r="function"===typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var o,d=[],l=!1,u=-1;function m(){l&&o&&(l=!1,o.length?d=o.concat(d):u=-1,d.length&&h())}function h(){if(!l){var e=c(m);l=!0;for(var t=d.length;t;){for(o=d,d=[];++u<t;)o&&o[u].run();u=-1,t=d.length}o=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)t[a-1]=arguments[a];d.push(new f(e,t)),1!==d.length||l||c(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}}}]);
//# sourceMappingURL=42.fa0d363c.chunk.js.map