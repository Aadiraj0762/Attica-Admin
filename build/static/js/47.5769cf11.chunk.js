(this["webpackJsonpattica-admin"]=this["webpackJsonpattica-admin"]||[]).push([[47],{1252:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a(3),c=a(22),i=a(35),n=a(109),d=a(89),o=a(170),l=a(152),m=a(203),p=a.p+"static/media/login-office.jpeg.2fda2282.jpg",b=a.p+"static/media/login-office-dark.jpeg.2fda2282.jpg",u=a(790),j=(a(131),a(1));t.default=()=>{const{t:e}=Object(d.a)(),{onSubmit:t,register:a,handleSubmit:h,errors:f,loading:g}=(Object(r.g)(),Object(u.a)()),[x,O]=Object(s.useState)(!1),y=()=>{O(!x)};return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"flex items-center min-h-screen p-6 bg-gray-50 dark:bg-gray-900",children:Object(j.jsx)("div",{className:"flex-1 h-full max-w-4xl mx-auto overflow-hidden bg-white rounded-lg shadow-xl dark:bg-gray-800",children:Object(j.jsxs)("div",{className:"flex flex-col overflow-y-auto md:flex-row",children:[Object(j.jsxs)("div",{className:"h-32 md:h-auto md:w-1/2",children:[Object(j.jsx)("img",{"aria-hidden":"true",className:"object-cover w-full h-full dark:hidden",src:p,alt:"Office"}),Object(j.jsx)("img",{"aria-hidden":"true",className:"hidden object-cover w-full h-full dark:block",src:b,alt:"Office"})]}),Object(j.jsx)("main",{className:"flex items-center justify-center p-6 sm:p-12 md:w-1/2",children:Object(j.jsxs)("div",{className:"w-full",children:[Object(j.jsx)("h1",{className:"mb-6 text-2xl font-semibold text-gray-700 dark:text-gray-200",children:"Login"}),Object(j.jsxs)("form",{onSubmit:h(t),children:[Object(j.jsx)(l.a,{label:"Email"}),Object(j.jsx)(m.a,{register:a,label:"Email",name:"email",type:"email",placeholder:"john@doe.com"}),Object(j.jsx)(o.a,{errorName:f.email}),Object(j.jsxs)("div",{className:"mt-6",children:[Object(j.jsx)(l.a,{label:"Password"}),Object(j.jsxs)("div",{style:{position:"relative"},children:[Object(j.jsx)(m.a,{register:a,label:"Password",name:"password",type:x?"text":"password",placeholder:"***************"}),Object(j.jsx)("div",{style:{position:"absolute",top:"50%",right:"10px",transform:"translateY(-50%)"},children:x?Object(j.jsx)(n.e,{cursor:"pointer",onClick:y}):Object(j.jsx)(n.f,{cursor:"pointer",onClick:y})})]}),Object(j.jsx)(o.a,{errorName:f.password})]}),Object(j.jsx)(i.Button,{id:"styleButton",disabled:g,type:"submit",className:"mt-4 h-12 w-full",to:"/dashboard",children:e("LoginTitle")}),Object(j.jsx)("hr",{className:"my-10"})]}),Object(j.jsxs)("div",{className:"flex flex-row",children:[Object(j.jsx)("p",{className:"mt-1 mr-6",children:Object(j.jsx)(c.b,{id:"styleLink",className:"text-sm font-medium ",to:"/forgot-password",children:e("ForgotPassword")})}),Object(j.jsx)("p",{className:"mt-1 mr-6",children:Object(j.jsx)(c.b,{className:"text-sm font-medium ",id:"styleLink",to:"/executive",children:e("CreateAccount")})})]})]})})]})})})})}},152:function(e,t,a){"use strict";a(0);var s=a(35),r=a(1);t.a=e=>{let{label:t}=e;return Object(r.jsx)(s.Label,{className:"col-span-4 sm:col-span-2 font-medium text-sm",children:t})}},170:function(e,t,a){"use strict";a(0);var s=a(1);t.a=e=>{let{errorName:t}=e;return Object(s.jsx)(s.Fragment,{children:t&&Object(s.jsx)("span",{className:"text-red-400 text-sm mt-2",children:t.message})})}},203:function(e,t,a){"use strict";a(0);var s=a(35),r=a(1);t.a=e=>{let{register:t,defaultValue:a,required:c,name:i,label:n,type:d,placeholder:o}=e;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(s.Input,{...t(`${i}`,{required:!c&&`${n} is required!`}),defaultValue:a,type:d,placeholder:o,name:i,className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white"})})}},212:function(e,t,a){"use strict";var s=a(94);const r={registerAdmin:async e=>s.a.post("/admin/register",e),loginAdmin:async e=>{try{const t=await s.a.post("/admin/login",e);return t.data&&t.data.redirectToDashboard&&t.data.redirectURL?{...t,redirectToDashboard:t.data.redirectToDashboard,redirectURL:t.data.redirectURL}:{...t,redirectToDashboard:!1,redirectURL:"/"}}catch(t){throw t}},forgetPassword:async e=>s.a.put("/admin/forget-password",e),resetPassword:async e=>s.a.put("/admin/reset-password",e),signUpWithProvider:async e=>s.a.post("/admin/signup",e),addStaff:async e=>s.a.post("/admin/add",e),getAllStaff:async e=>s.a.get("/admin",e),getStaffById:async(e,t)=>s.a.post(`/admin/${e}`,t),updateStaff:async(e,t)=>s.a.put(`/admin/${e}`,t),updateStaffStatus:async(e,t)=>s.a.put(`/admin/update-status/${e}`,t),deleteStaff:async e=>s.a.delete(`/admin/${e}`)};t.a=r},790:function(e,t,a){"use strict";var s=a(15),r=a.n(s),c=a(0),i=a(209),n=a(3),d=a(25),o=a(212),l=a(37);t.a=()=>{const[e,t]=Object(c.useState)(!1),{dispatch:a}=Object(c.useContext)(d.a),s=Object(n.g)(),m=Object(n.h)(),{register:p,handleSubmit:b,formState:{errors:u}}=Object(i.a)();return{onSubmit:e=>{let{name:c,email:i,verifyEmail:n,password:d,role:p}=e;t(!0);"/login"===m.pathname?o.a.loginAdmin({email:i,password:d}).then((e=>{e&&(t(!1),Object(l.c)("Login Success!"),a({type:"USER_LOGIN",payload:e}),r.a.set("adminInfo",JSON.stringify(e),{expires:.5}),e.redirectToDashboard?s.push(e.redirectURL||"/dashboard"):s.push("/"))})).catch((e=>{Object(l.b)(e?e.response.data.message:e.message),t(!1)})):"/signup"===m.pathname?o.a.registerAdmin({name:c,email:i,password:d,role:p}).then((e=>{e&&(t(!1),Object(l.c)("Register Success!"),a({type:"USER_LOGIN",payload:e}),r.a.set("adminInfo",JSON.stringify(e),{expires:.5}),s.push("/"))})).catch((e=>{Object(l.b)(e?e.response.data.message:e.message),t(!1)})):"/forgot-password"===m.pathname&&o.a.forgetPassword({verifyEmail:n}).then((e=>{t(!1),Object(l.c)(e.message)})).catch((e=>{t(!1),Object(l.b)(e?e.response.data.message:e.message)}))},register:p,handleSubmit:b,errors:u,loading:e}}},94:function(e,t,a){"use strict";var s=a(131),r=a.n(s),c=a(15),i=a.n(c);const n=r.a.create({baseURL:"https://attica.onrender.com/api/",timeout:5e4,headers:{Accept:"application/json","Content-Type":"application/json"}});n.interceptors.request.use((function(e){let t,a;return i.a.get("adminInfo")&&(t=JSON.parse(i.a.get("adminInfo"))),i.a.get("company")&&(a=i.a.get("company")),{...e,headers:{authorization:t?`Bearer ${t.token}`:null,company:a||null}}}));const d=e=>e.data,o={get:(e,t,a)=>n.get(e,t,a).then(d),post:(e,t)=>n.post(e,t).then(d),put:(e,t,a)=>n.put(e,t,a).then(d),patch:(e,t)=>n.patch(e,t).then(d),delete:(e,t)=>n.delete(e,t).then(d)};t.a=o}}]);
//# sourceMappingURL=47.5769cf11.chunk.js.map