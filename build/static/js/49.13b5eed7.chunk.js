(this["webpackJsonpattica-admin"]=this["webpackJsonpattica-admin"]||[]).push([[49],{116:function(t,e,a){"use strict";var c=a(131),n=a.n(c),s=a(0),o=a(36);e.a=t=>{const[e,a]=Object(s.useState)([]||!1),[c,l]=Object(s.useState)(""),[r,i]=Object(s.useState)(!0),{isUpdate:d,setIsUpdate:u,currentPage:b,category:j,searchText:h,invoice:p,status:O,zone:g,time:m,sortedField:x,source:y,limitData:T,startDate:f,endDate:k}=Object(s.useContext)(o.a);return Object(s.useEffect)((()=>{let e=!1,c=n.a.CancelToken.source();return(async()=>{try{const n=await t({cancelToken:c.token});e||(a(n),l(""),i(!1))}catch(s){e||(l(s.message),n.a.isCancel(s),l(s.message),i(!1),a([]))}})(),u(!1),()=>{e=!0,c.cancel("Cancelled in cleanup")}}),[d,b,j,h,p,O,g,m,x,y,T,f,k]),{data:e,error:c,loading:r}}},1239:function(t,e,a){"use strict";a.r(e);var c=a(0),n=a(35),s=a(89),o=a(261),l=a(116),r=a(210),i=a(1);e.default=()=>{const{data:t}=Object(l.a)(o.a.getProductions),[e,a]=Object(c.useState)([]),{t:d}=Object(s.a)();return Object(c.useEffect)((()=>{t&&(()=>{const c=new Map;null===t||void 0===t||t.forEach((t=>{t.products.forEach((e=>{const a=e.label,n=parseInt(t.quantity),s=c.get(a);if(s){const e=s.stockcount+n,o=n,l=t.createdAt;c.set(a,{...s,stockcount:e,lastStock:{quantity:o,date:l}})}else{var o;c.set(a,{category:null===t||void 0===t||null===(o=t.variants[0])||void 0===o?void 0:o.label,item:e.label,stockcount:n,lastStock:{quantity:n,date:t.createdAt}})}}))}));const n=e.map((t=>c.get(t.item)||t));c.forEach(((t,a)=>{e.some((t=>t.item===a))||n.push(t)})),a(n)})()}),[t]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(r.a,{children:d("Production Stock")}),Object(i.jsx)(n.TableContainer,{className:"mb-8",children:Object(i.jsxs)(n.Table,{children:[Object(i.jsx)(n.TableHeader,{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)(n.TableCell,{children:d("S No")}),Object(i.jsx)(n.TableCell,{children:d("Item")}),Object(i.jsx)(n.TableCell,{children:d("Category")}),Object(i.jsx)(n.TableCell,{children:d("Stock Count")}),Object(i.jsx)(n.TableCell,{children:d("Last Stock")})]})}),Object(i.jsx)(n.TableBody,{children:e.map(((t,e)=>Object(i.jsxs)(n.TableRow,{children:[Object(i.jsx)(n.TableCell,{children:e+1}),Object(i.jsx)(n.TableCell,{children:t.item}),Object(i.jsx)(n.TableCell,{children:t.category}),Object(i.jsx)(n.TableCell,{children:t.stockcount}),Object(i.jsxs)(n.TableCell,{children:["Quantity: ",t.lastStock.quantity,Object(i.jsx)("br",{}),"Date: ",new Date(t.lastStock.date).toLocaleString()]})]},e)))})]})})]})}},210:function(t,e,a){"use strict";a(0);var c=a(1);e.a=t=>{let{children:e}=t;return Object(c.jsx)("h1",{className:"my-6 text-lg font-bold text-gray-700 dark:text-gray-300",children:e})}},261:function(t,e,a){"use strict";var c=a(94);const n={getProductions:async()=>c.a.get("/productions/"),getProductionById:async t=>c.a.get(`/productions/${t}`),createProduction:async t=>c.a.post("productions/add",t),updateProduction:async(t,e)=>c.a.put(`/productions/${t}`,e),deleteProduction:async(t,e)=>c.a.delete(`/productions/${t}`)};e.a=n},94:function(t,e,a){"use strict";var c=a(131),n=a.n(c),s=a(15),o=a.n(s);const l=n.a.create({baseURL:"https://attica.onrender.com/api/",timeout:5e4,headers:{Accept:"application/json","Content-Type":"application/json"}});l.interceptors.request.use((function(t){let e,a;return o.a.get("adminInfo")&&(e=JSON.parse(o.a.get("adminInfo"))),o.a.get("company")&&(a=o.a.get("company")),{...t,headers:{authorization:e?`Bearer ${e.token}`:null,company:a||null}}}));const r=t=>t.data,i={get:(t,e,a)=>l.get(t,e,a).then(r),post:(t,e)=>l.post(t,e).then(r),put:(t,e,a)=>l.put(t,e,a).then(r),patch:(t,e)=>l.patch(t,e).then(r),delete:(t,e)=>l.delete(t,e).then(r)};e.a=i}}]);
//# sourceMappingURL=49.13b5eed7.chunk.js.map